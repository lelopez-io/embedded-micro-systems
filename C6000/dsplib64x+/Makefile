#############################################################################
# Makefile                                                                  #
#                                                                           #
# Top-level make for DSPLIBC64P                                             #
#############################################################################
#
#
#############################################################################
#                                                                           #
#   Copyright (C) 2010 Texas Instruments Incorporated                       #
#     http://www.ti.com/                                                    #
#                                                                           #
#############################################################################


include Rules.make


.PHONY:	all clean dsplib_c64p src lib install example

#==============================================================================
# The default build target.
#==============================================================================
all:	dsplib_c64p

#==============================================================================
# Clean up the targets built by 'make all'.
#==============================================================================
clean:	dsplib_c64p_clean 
#==============================================================================
# Build everything rebuildable.
#==============================================================================
everything: all

#==============================================================================
# Clean up all targets.
#==============================================================================
clobber:    clean

#==============================================================================
# A help message target.
#==============================================================================
help:
	@echo
	@echo "Available build targets are:"
	@echo
	@echo "    all             : Builds all the components below"
	@echo "    clean           : Remove files generated by the 'all' target"
	@echo
	@echo "    dsplib_c64p     : Builds dsplibc674x package for $(BUILD_TYPE)"
	@echo "    lib             : Builds dsplibc674x library"
	@echo "    src             : Builds driver projects for $(BUILD_TYPE)"
	@echo
	@echo "    lib_clean       : Cleans dsplib_c64p library "
	@echo "    src_clean       : Cleans driver projects for $(BUILD_TYPE)"
	@echo
	@echo "    example         : Builds example to access dsplib functions"
	@echo "    example_clean   : Cleans example directory "
	@ 
	@echo "    install         : Install binaries to $(EXEC_DIR)"
	@echo

#==============================================================================
# Target for listing information about the DVSDK components.
#==============================================================================
info:	check
	@CODEGEN_INSTALL_DIR="$(CODEGEN_INSTALL_DIR)" 

#==============================================================================
# Target for checking that the Rules.make file is set up properly.
#==============================================================================
check:
	@CHECKLIST="$(CHECKLIST)" $(DVSDK_INSTALL_DIR)/bin/check.sh

#==============================================================================
# Build the codec servers for the configured platform. Also, an
# explicit cleanup target is defined.
#==============================================================================
src:
	$(MAKE) -C $(DSPLIBC64P_INSTALL_DIR)/src

src_clean:
	$(MAKE) -C $(DSPLIBC64P_INSTALL_DIR)/src clean
	
lib:
	$(MAKE) -C $(DSPLIBC64P_INSTALL_DIR)/build

lib_clean:
	$(MAKE) -C $(DSPLIBC64P_INSTALL_DIR)/build clean

dsplib_c64p:
	$(MAKE) -C $(DSPLIBC64P_INSTALL_DIR)/build
	$(MAKE) -C $(DSPLIBC64P_INSTALL_DIR)/src 

dsplib_c64p_clean:
	$(MAKE) -C $(DSPLIBC64P_INSTALL_DIR)/build clean
	$(MAKE) -C $(DSPLIBC64P_INSTALL_DIR)/src clean	

example:
	$(MAKE) -C $(DSPLIBC64P_INSTALL_DIR)/example/fft_example 
		
example_clean:
	$(MAKE) -C $(DSPLIBC64P_INSTALL_DIR)/example/fft_example clean

example_install:
	$(MAKE) -C $(DSPLIBC64P_INSTALL_DIR)/example/fft_example install

install:
	@echo
	@echo Creating $(EXEC_DIR)
	@install -d $(EXEC_DIR)
	$(MAKE) -C $(DSPLIBC64P_INSTALL_DIR)/src install
	



